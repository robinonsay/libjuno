<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibJuno: Fixed block allocator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init()
  </script>
  <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeFragmentCopyButton.init()
  </script>
  <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeParagraphLink.init()
  </script>
  <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeInteractiveToc.init()
  </script>
  <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeTabs.init()
  </script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2K3RX3SR87"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2K3RX3SR87');
  </script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="juno_logo_1.svg"/></td>
  <td id="projectalign">
   <div id="projectname">LibJuno<span id="projectnumber">&#160;1.0.1</span>
   </div>
   <div id="projectbrief">LibJuno is a lightweight C11 library designed specifically for embedded systems.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__juno__memory__block.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Fixed block allocator</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structJUNO__MEMORY__BLOCK__METADATA__TAG.html">JUNO_MEMORY_BLOCK_METADATA_TAG</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metadata for a memory block entry (allocator-specific).  <a href="structJUNO__MEMORY__BLOCK__METADATA__TAG.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf0d3dee078bfb9d9aeaf19018245ad9b" id="r_gaf0d3dee078bfb9d9aeaf19018245ad9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__juno__memory__block.html#gaf0d3dee078bfb9d9aeaf19018245ad9b">JUNO_MEMORY_BLOCK</a>(name,  type,  length)&#160;&#160;&#160;static type name[length] = {0}</td></tr>
<tr class="memdesc:gaf0d3dee078bfb9d9aeaf19018245ad9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a static contiguous memory array for block storage.  <br /></td></tr>
<tr class="separator:gaf0d3dee078bfb9d9aeaf19018245ad9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8942ee7462829b506969cd42e66d2ad7" id="r_ga8942ee7462829b506969cd42e66d2ad7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__juno__memory__block.html#ga8942ee7462829b506969cd42e66d2ad7">JUNO_MEMORY_BLOCK_METADATA</a>(name,  length)&#160;&#160;&#160;static <a class="el" href="memory__block_8h.html#ad81cca33023418640b33fcfc7bcf1334">JUNO_MEMORY_BLOCK_METADATA_T</a> name[length] = {0}</td></tr>
<tr class="memdesc:ga8942ee7462829b506969cd42e66d2ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declare a static array for per-block metadata.  <br /></td></tr>
<tr class="separator:ga8942ee7462829b506969cd42e66d2ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d2be7363a8cfb54e0326a9fae49e22f" id="r_ga6d2be7363a8cfb54e0326a9fae49e22f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__juno__memory__block.html#ga6d2be7363a8cfb54e0326a9fae49e22f">JunoMemory_BlockGetT</a>(ptBlkRoot,  type)&#160;&#160;&#160;(ptBlkRoot)-&gt;tRoot.ptApi-&gt;Get(&amp;(ptBlkRoot)-&gt;tRoot, sizeof(type))</td></tr>
<tr class="memdesc:ga6d2be7363a8cfb54e0326a9fae49e22f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a block sized for the specified C type.  <br /></td></tr>
<tr class="separator:ga6d2be7363a8cfb54e0326a9fae49e22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cfb92b8ba4e654dedc6fed0adb898bf" id="r_ga3cfb92b8ba4e654dedc6fed0adb898bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__juno__memory__block.html#ga3cfb92b8ba4e654dedc6fed0adb898bf">JunoMemory_BlockPutT</a>(ptBlkRoot,  pPtr)&#160;&#160;&#160;(ptBlkRoot)-&gt;tRoot.ptApi-&gt;Put(&amp;(ptBlkRoot)-&gt;tRoot, (pPtr))</td></tr>
<tr class="memdesc:ga3cfb92b8ba4e654dedc6fed0adb898bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a previously allocated block given its pointer descriptor.  <br /></td></tr>
<tr class="separator:ga3cfb92b8ba4e654dedc6fed0adb898bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa2aae4e3d133df4781426a0c05739faa" id="r_gaa2aae4e3d133df4781426a0c05739faa"><td class="memItemLeft" align="right" valign="top">struct JUNO_MEMORY_ALLOC_BLOCK_TAG&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__juno__memory__block.html#gaa2aae4e3d133df4781426a0c05739faa">JUNO_MODULE_DERIVE</a> (<a class="el" href="memory__api_8h.html#aa94f75cec509d112d5de2e522bd7af25">JUNO_MEMORY_ALLOC_ROOT_T</a>, uint8_t *pvMemory;<a class="el" href="memory__block_8h.html#ad81cca33023418640b33fcfc7bcf1334">JUNO_MEMORY_BLOCK_METADATA_T</a> *ptMetadata;size_t zTypeSize;size_t zAlignment;size_t zLength;size_t zUsed;size_t zFreed;)</td></tr>
<tr class="memdesc:gaa2aae4e3d133df4781426a0c05739faa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Concrete block allocator derivation over the generic alloc root.  <br /></td></tr>
<tr class="separator:gaa2aae4e3d133df4781426a0c05739faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5cb070171a69cefe8c86b2275e6db0b" id="r_gaf5cb070171a69cefe8c86b2275e6db0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__juno__status.html#ga37f8e6b135f0c1a21a3a34b19d1772aa">JUNO_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__juno__memory__block.html#gaf5cb070171a69cefe8c86b2275e6db0b">JunoMemory_BlockInit</a> (<a class="el" href="memory__block_8h.html#aedb8dcf65a30cfeb601803caf159ae03">JUNO_MEMORY_ALLOC_BLOCK_T</a> *ptJunoMemory, const <a class="el" href="pointer__api_8h.html#a3563adb3bfc20c82c4f50d93b6dce0bf">JUNO_POINTER_API_T</a> *ptPointerApi, void *pvMemory, <a class="el" href="memory__block_8h.html#ad81cca33023418640b33fcfc7bcf1334">JUNO_MEMORY_BLOCK_METADATA_T</a> *ptMetadata, size_t zTypeSize, size_t zAlignment, size_t zLength, <a class="el" href="group__juno__status.html#ga0fbff8c7db15c2f4d01e82b8a863dbbc">JUNO_FAILURE_HANDLER_T</a> pfcnFailureHandler, <a class="el" href="group__juno__status.html#gaf575dc984c80091757afe42a5d5c2b60">JUNO_USER_DATA_T</a> *pvFailureUserData)</td></tr>
<tr class="memdesc:gaf5cb070171a69cefe8c86b2275e6db0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a fixed-size block allocator over a caller-supplied region.  <br /></td></tr>
<tr class="separator:gaf5cb070171a69cefe8c86b2275e6db0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A deterministic, fixed-capacity allocator that dispenses blocks of a uniform element size from a caller-supplied backing region. Metadata tracks a LIFO free list for O(1) allocation and free. Alignment is enforced per block. This module is freestanding-friendly and uses the Pointer API for verification and zeroing.</p>
<p>Behavior and guarantees:</p><ul>
<li>Get: Returns a block whose size is the configured element size. If a freed block exists (zFreed &gt; 0), it is reused (LIFO). Otherwise, a new block is carved from the next offset if zUsed &lt; zLength. Newly provided blocks are Reset via the pointer API before being returned; on Reset failure, the allocator rolls back and reports the error.</li>
<li>Put: Verifies the address belongs to the pool and is aligned. Double frees are rejected. If the block being freed is the most recently allocated block, zUsed is decremented without pushing onto the free stack; otherwise, the address is pushed to the free stack (zFreed++). On success, the caller's descriptor is cleared (pvAddr=NULL, sizes 0).</li>
<li>Update: Adjusts the descriptor's zSize in place up to the element size; memory is never moved. Requests above element size are rejected.</li>
</ul>
<p>Invariants:</p><ul>
<li>0 &lt;= zUsed &lt;= zLength</li>
<li>0 &lt;= zFreed &lt;= zLength</li>
<li>zUsed counts total blocks ever allocated; it is decremented only when freeing the last allocated block.</li>
<li>The free stack keeps freed block addresses in ptMetadata[0..zFreed).</li>
</ul>
<p>Complexity:</p><ul>
<li>Init, Get, Put, Update are all O(1).</li>
</ul>
<p>Error cases:</p><ul>
<li>Get: zero size, size &gt; element size, pool full, corrupt counters.</li>
<li>Put: null/unaligned/out-of-range address, double free, free list overflow (should be impossible if invariants are maintained). </li>
</ul>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaf0d3dee078bfb9d9aeaf19018245ad9b" name="gaf0d3dee078bfb9d9aeaf19018245ad9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0d3dee078bfb9d9aeaf19018245ad9b">&#9670;&#160;</a></span>JUNO_MEMORY_BLOCK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JUNO_MEMORY_BLOCK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;static type name[length] = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare a static contiguous memory array for block storage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the backing array symbol. </td></tr>
    <tr><td class="paramname">type</td><td>Element type for each block. </td></tr>
    <tr><td class="paramname">length</td><td>Number of elements in the block pool. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8942ee7462829b506969cd42e66d2ad7" name="ga8942ee7462829b506969cd42e66d2ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8942ee7462829b506969cd42e66d2ad7">&#9670;&#160;</a></span>JUNO_MEMORY_BLOCK_METADATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JUNO_MEMORY_BLOCK_METADATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">length&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;static <a class="el" href="memory__block_8h.html#ad81cca33023418640b33fcfc7bcf1334">JUNO_MEMORY_BLOCK_METADATA_T</a> name[length] = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declare a static array for per-block metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the metadata array symbol. </td></tr>
    <tr><td class="paramname">length</td><td>Number of entries (should match the block array length). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6d2be7363a8cfb54e0326a9fae49e22f" name="ga6d2be7363a8cfb54e0326a9fae49e22f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d2be7363a8cfb54e0326a9fae49e22f">&#9670;&#160;</a></span>JunoMemory_BlockGetT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JunoMemory_BlockGetT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptBlkRoot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ptBlkRoot)-&gt;tRoot.ptApi-&gt;Get(&amp;(ptBlkRoot)-&gt;tRoot, sizeof(type))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a block sized for the specified C type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptBlkRoot</td><td>Pointer to a JUNO_MEMORY_ALLOC_BLOCK_T instance. </td></tr>
    <tr><td class="paramname">type</td><td>C type used to derive size and alignment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3cfb92b8ba4e654dedc6fed0adb898bf" name="ga3cfb92b8ba4e654dedc6fed0adb898bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3cfb92b8ba4e654dedc6fed0adb898bf">&#9670;&#160;</a></span>JunoMemory_BlockPutT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JunoMemory_BlockPutT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptBlkRoot, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pPtr&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(ptBlkRoot)-&gt;tRoot.ptApi-&gt;Put(&amp;(ptBlkRoot)-&gt;tRoot, (pPtr))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a previously allocated block given its pointer descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptBlkRoot</td><td>Pointer to a JUNO_MEMORY_ALLOC_BLOCK_T instance. </td></tr>
    <tr><td class="paramname">pPtr</td><td>Pointer descriptor previously returned by the allocator. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa2aae4e3d133df4781426a0c05739faa" name="gaa2aae4e3d133df4781426a0c05739faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa2aae4e3d133df4781426a0c05739faa">&#9670;&#160;</a></span>JUNO_MODULE_DERIVE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct JUNO_MEMORY_ALLOC_BLOCK_TAG JUNO_MODULE_DERIVE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__api_8h.html#aa94f75cec509d112d5de2e522bd7af25">JUNO_MEMORY_ALLOC_ROOT_T</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *pvMemory;<a class="el" href="memory__block_8h.html#ad81cca33023418640b33fcfc7bcf1334">JUNO_MEMORY_BLOCK_METADATA_T</a> *ptMetadata;size_t zTypeSize;size_t zAlignment;size_t zLength;size_t zUsed;size_t zFreed;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Concrete block allocator derivation over the generic alloc root. </p>
<p>Stores the backing region and metadata required to manage a pool of fixed-size blocks. The root provides the allocation API pointer and failure handling; <code>ptPointerApi</code> lives in the root (see <a class="el" href="memory__api_8h.html" title="Abstract memory allocation API and verification helpers.">memory_api.h</a>). </p>

</div>
</div>
<a id="gaf5cb070171a69cefe8c86b2275e6db0b" name="gaf5cb070171a69cefe8c86b2275e6db0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5cb070171a69cefe8c86b2275e6db0b">&#9670;&#160;</a></span>JunoMemory_BlockInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__juno__status.html#ga37f8e6b135f0c1a21a3a34b19d1772aa">JUNO_STATUS_T</a> JunoMemory_BlockInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="memory__block_8h.html#aedb8dcf65a30cfeb601803caf159ae03">JUNO_MEMORY_ALLOC_BLOCK_T</a> *&#160;</td>
          <td class="paramname"><em>ptJunoMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="pointer__api_8h.html#a3563adb3bfc20c82c4f50d93b6dce0bf">JUNO_POINTER_API_T</a> *&#160;</td>
          <td class="paramname"><em>ptPointerApi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="memory__block_8h.html#ad81cca33023418640b33fcfc7bcf1334">JUNO_MEMORY_BLOCK_METADATA_T</a> *&#160;</td>
          <td class="paramname"><em>ptMetadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>zTypeSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>zAlignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>zLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__juno__status.html#ga0fbff8c7db15c2f4d01e82b8a863dbbc">JUNO_FAILURE_HANDLER_T</a>&#160;</td>
          <td class="paramname"><em>pfcnFailureHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__juno__status.html#gaf575dc984c80091757afe42a5d5c2b60">JUNO_USER_DATA_T</a> *&#160;</td>
          <td class="paramname"><em>pvFailureUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a fixed-size block allocator over a caller-supplied region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptJunoMemory</td><td>Allocator instance to initialize. </td></tr>
    <tr><td class="paramname">ptPointerApi</td><td>Pointer API required for internal operations (non-null). </td></tr>
    <tr><td class="paramname">pvMemory</td><td>Backing memory region for blocks (aligned to zAlignment). </td></tr>
    <tr><td class="paramname">ptMetadata</td><td>Metadata array to track free blocks (length == zLength). </td></tr>
    <tr><td class="paramname">zTypeSize</td><td>Size of each block element in bytes (non-zero). </td></tr>
    <tr><td class="paramname">zAlignment</td><td>Alignment requirement in bytes for each block (non-zero). </td></tr>
    <tr><td class="paramname">zLength</td><td>Total number of blocks available in the pool (non-zero). </td></tr>
    <tr><td class="paramname">pfcnFailureHandler</td><td>Optional failure handler callback. </td></tr>
    <tr><td class="paramname">pvFailureUserData</td><td>Optional user data passed to the failure handler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JUNO_STATUS_SUCCESS on success; JUNO_STATUS_ERR or specific codes on failure. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Performs parameter validation (nulls, overflow of zTypeSize*zLength, base alignment) and wires the allocator API into the root. Counters zUsed and zFreed start at 0. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
